<div class="container mb-5" style="margin-top: 8%;">
  <div class="heading_container heading_center d-flex">
    <h2 class="mx-auto my-4">
      Stop Card Report
    </h2>

  </div>
  <label class="mb-2">Date</label>
  <select class="form-control" [(ngModel)]="date" (change)="DateSelected($event)">
    <option value="{{ stopCard }}" *ngFor="let stopCard of StopCards">
      {{ stopCard | date: 'dd-MM-yyyy' }}
    </option>
  </select>

  <div class="px-4 px-lg-0 m-5">
    <div class="pb-5">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 p-5 bg-white rounded shadow-sm mb-4 print-section" *ngIf="Data">
            <div class="table-responsive">

              <table class="border" style="width: 100%;">
                <tr>
                  <div style="display: flex;">
                    <img style="margin-left: 30px;" width="100px" src="../../assets/img/ECDC Logo png.png" />
                    <label class="form-label mt-3"
                      style="font-weight: bolder; font-size: large; color: black; margin-left: 150px;">
                      Stop Card Register
                    </label>
                    <label class="form-label mt-3" style="font-size: large; color: black; margin-left: 130px;">
                      {{date | date: 'dd-MM-yyyy'}}
                    </label>
                  </div>
                </tr>

              </table>
              <div class="col-12">
                <table class="table table-bordered" style="margin-bottom: 0;vertical-align: middle;">
                  <thead>
                    <tr style="background-color: dimgray;color: white;">
                      <td class="specailtd">
                        No.
                      </td>
                      <td class="specailtd">
                        Classification
                      </td>
                      <td class="specailtd">
                        Description
                      </td>
                      <td>
                        Reported By
                      </td>
                      <td class="specailtd">
                        Name
                      </td>
                      <td class="specailtd">
                        Action Required
                      </td>
                      <td>
                        Observation Category
                      </td>
                      <td class="specailtd">
                        Status
                      </td>
                      <td class="specailtd">
                        SWA
                      </td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let record of StopCardsList">
                      <td scope="row">
                        <div>
                          <h6>
                            <span>{{record.id}}</span>
                          </h6>
                        </div>
                      </td>
                      <td scope="row">
                        <div>
                          <h6>
                            <span>{{record.classification}}</span>
                          </h6>
                        </div>
                      </td>
                      <td scope="row">
                        <div>
                          <h6>
                            <span>{{record.description}}</span>
                          </h6>
                        </div>
                      </td>
                      <td scope="row">
                        <div>
                          <h6>
                            <span>{{record.reportedByPosition}}</span>
                          </h6>
                        </div>
                      </td>
                      <td scope="row">
                        <div>
                          <h6>
                            <span>{{record.reportedByName}}</span>
                          </h6>
                        </div>
                      </td>
                      <td scope="row">
                        <div>
                          <h6>
                            <span>{{record.actionRequired}}</span>
                          </h6>
                        </div>
                      </td>
                      <td scope="row">
                        <div>
                          <h6>
                            <span>{{record.typeOfObservationCategory}}</span>
                          </h6>
                        </div>
                      </td>
                      <ng-container *ngIf="record.status=='Closed' then thenTemplate; else elseTemplate"></ng-container>
                      <ng-template #thenTemplate>
                        <td scope="row" style="background-color: lightgreen;">
                          <div>
                            <h6>
                              <span>{{record.status}}</span>
                            </h6>
                          </div>
                        </td>
                      </ng-template>
                      <ng-template #elseTemplate>
                        <td scope="row" style="background-color: lightcoral;">
                          <div>
                            <h6>
                              <span>{{record.status}}</span>
                            </h6>
                          </div>
                        </td>
                      </ng-template>

                      <td scope="row">
                        <div>
                          <h6>
                            <span>{{record.stopWorkAuthorityApplied}}</span>
                          </h6>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div class="col-12">
                <table class="table table-borderless mb-1"
                  style="display: flex; align-items: center; justify-content: center;">
                  <tbody>
                    <tr>
                      <td scope="row">
                        Issue No. 01
                        <br>
                        Revision No. 00
                      </td>
                      <td scope="row">
                        Document No. ECDC-QHSE-FM-12
                        <br>
                        Page 1 / 1
                      </td>
                      <td scope="row">
                        Issue Date: 01/01/2021
                        <br>
                        Revision Date: 01/01/2023
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <input *ngIf="Data" type="submit" class="btn btn-primary my-4" value="Print Data" (click)="print()" />
      </div>
    </div>
  </div>
</div>
