<div class="container mb-5" style="margin-top: 8%;">
    <div class="heading_container heading_center d-flex">
      <h2 class="mx-auto my-4">
        QHSE Daily Report
      </h2>
  
    </div>
  
    <div class="row">
      <form [formGroup]="QHSEDailyForm" id="print-section" (ngSubmit)="submitData()"
        class="col-md-10 mx-auto d-flex flex-wrap">
  
        <table class="table">
          <tr>
            <td>
              <div class="form-group">
                <label class="form-label" for="rigId" >Rig Number: </label>
                <select name="rigId"  [(ngModel)]="SelectedRig" (change)="selectedRigNumber($event)" formControlName="rigId" id="rigId" class="form-select">
                  <option value="" disabled selected>Choose Rig Number</option>
                  <option *ngFor="let item of rigList " value="{{item.id}}">Rig - {{item.number}}</option>
                </select>
              </div>
            </td>
            <td>
                <div class="from-group  ">
                  <label for="clientId" class="form-label">Client :</label>
                  <select name="clientId" formControlName="clientId"
                    id="clientId" class="form-select">
                    <option value="" disabled selected>Choose Client</option>
                    <option *ngFor="let item of ClientList" value="{{item.id}}">{{item.clientName}}</option>
                  </select>
                </div>
              </td>
              <td>
                <div class="form-group   ">
                  <label>Well Name: </label>
                  <input id="wallName" type="text" formControlName="wallName" class="form-control" />
                  <div *ngIf="wallName?.invalid && (wallName?.dirty || wallName?.touched)">
                    <small class="text-danger" *ngIf="wallName?.errors?.['required']">
                      Well Name is required
                    </small>
                  </div>
                </div>
              </td>
            <td>
              <div class="form-group   ">
                <label>Date: </label>
                <!-- (change)="GetLTIDays($event)" -->
                <input id="date" type="date" (change)="SelectedDate($event)" [(ngModel)]="selectedDate" formControlName="date" class="form-control" />
                <div *ngIf="date?.invalid && (date?.dirty || date?.touched)">
                  <small class="text-danger" *ngIf="date?.errors?.['required']">
                    Date is required
                  </small>
                </div>
              </div>
             
            </td>

          </tr>
          <tr>
            
            <td>
              <div class="form-group">
                <label>Man Power :</label>
                <input type="number" [(ngModel)]="Record.manPowerNumber" readonly class="form-control" formControlName="manPowerNumber" />
                <div *ngIf="manPowerNumber?.invalid && (manPowerNumber?.dirty || manPowerNumber?.touched)">
                  <small class="text-danger" *ngIf="manPowerNumber?.errors?.['required']">
                    Man Power is required
                  </small>
                </div>
              </div>
            </td>
            <td>
              <div class="form-group">
                <label>Total Man Power Hours :</label>
                <input type="number" [(ngModel)]="Record.totalManPowerHours" readonly class="form-control" formControlName="totalManPowerHours" />
                <div *ngIf="totalManPowerHours?.invalid && (totalManPowerHours?.dirty || totalManPowerHours?.touched)">
                </div>
              </div>
            </td>

            <td>
                <div class="form-group">
                  <label>Stop Cards :</label>
                  <input type="number" [(ngModel)]="Record.stopCardsRecords" readonly class="form-control" formControlName="stopCardsRecords" />
                  <div *ngIf="stopCardsRecords?.invalid && (stopCardsRecords?.dirty || stopCardsRecords?.touched)">
                    <small class="text-danger" *ngIf="stopCardsRecords?.errors?.['required']">
                    Stop Cards is required
                    </small>
                  </div>
                </div>
              </td>

              <td>
                <div class="form-group">
                  <label>PTSM:</label>
                  <input type="number" class="form-control" [(ngModel)]="Record.ptsmRecords" readonly formControlName="ptsmRecords" />
                  <div *ngIf="ptsmRecords?.invalid && (ptsmRecords?.dirty || ptsmRecords?.touched)">
                    <small class="text-danger" *ngIf="ptsmRecords?.errors?.['required']">
                   PTSM is required
                    </small>
                  </div>
                </div>
              </td>
              
          </tr>
        
          <tr>
            <td>
              <div class="form-group">
                <label>Rig Tracking Sheet Closed Points :</label>
                <input type="number" class="form-control" formControlName="rigTrackingClosedPoints" />
                <div *ngIf="rigTrackingClosedPoints?.invalid && (rigTrackingClosedPoints?.dirty || rigTrackingClosedPoints?.touched)">
                  <small class="text-danger" *ngIf="rigTrackingClosedPoints?.errors?.['required']">
                  Rig Tracking Sheet Closed Points is required
                  </small>
                </div>
              </div>
            </td>
            <td>
              <div class="form-group">
                <label>Rig Tracking Sheet Open Points :</label>
                <input type="number" class="form-control" formControlName="rigTrackingOpenPoints" />
                <div *ngIf="rigTrackingOpenPoints?.invalid && (rigTrackingOpenPoints?.dirty || rigTrackingOpenPoints?.touched)">
                  <small class="text-danger" *ngIf="rigTrackingOpenPoints?.errors?.['required']">
                  Rig Tracking Sheet Open Points is required
                  </small>
                </div>
              </div>
            </td>
          <td>
              <div class="form-group">
                <label>Rig Vehicles Kilometers :</label>
                <input type="number" class="form-control" formControlName="rigVehiclesKilometers" />
                <div *ngIf="rigVehiclesKilometers?.invalid && (rigVehiclesKilometers?.dirty || rigVehiclesKilometers?.touched)">
                  <small class="text-danger" *ngIf="rigVehiclesKilometers?.errors?.['required']">
                      Rig Vehicles Kilometers is required
                  </small>
                </div>
              </div>
            </td>
              
              <td>
                <div class="form-group">
                  <label>Drills :</label>
                  <input type="number"  [(ngModel)]="Record.drillsRecords" readonly class="form-control" formControlName="drillsRecords" />
                  <div *ngIf="drillsRecords?.invalid && (drillsRecords?.dirty || drillsRecords?.touched)">
                    <small class="text-danger" *ngIf="drillsRecords?.errors?.['required']">
                        Drills is required
                    </small>
                  </div>
                </div>
              </td>
            
          </tr>
  
          <tr>
           
            <td>
              <div class="form-group">
                <label>PTW (Hot) :</label>
                <input type="number" class="form-control" formControlName="ptwHot" />
                <div *ngIf="ptwHot?.invalid && (ptwHot?.dirty || ptwHot?.touched)">
                  <small class="text-danger" *ngIf="ptwHot?.errors?.['required']">
                      PTW Hot is required
                  </small>
                </div>
              </div>
            </td>
            <td>
                <div class="form-group">
                  <label>PTW (Cold) :</label>
                  <input type="number" class="form-control" formControlName="ptwCold" />
                  <div *ngIf="ptwCold?.invalid && (ptwCold?.dirty || ptwCold?.touched)">
                    <small class="text-danger" *ngIf="ptwCold?.errors?.['required']">
                    PTW Cold is required
                    </small>
                  </div>
                </div>
              </td>
              <td>
                <div class="form-group">
                  <label>Total PTW :</label>
                  <input type="number"  class="form-control" readonly formControlName="totalPTW" />
                  <div *ngIf="totalPTW?.invalid && (totalPTW?.dirty || totalPTW?.touched)">
                    <small class="text-danger" *ngIf="totalPTW?.errors?.['required']">
                      Total PTW is required
                    </small>
                  </div>
                </div>
              </td>
           
              <td rowspan="2">
                <div class="from-group">
                  <label for="leaderShipVisitsDTO" class="form-label">Leadership Visits:</label>
                  <select name="leaderShipVisitsDTO" multiple formControlName="leaderShipVisitsDTO" id="leaderShipVisitsDTO"
                    class="form-select">
                    <option value="" disabled selected>Choose Leadership Visits</option>
                    <option *ngFor="let item of LeaderShipVisitsList" value="{{item.id}}">{{item.leaderShipType}}</option>
                  </select>
                </div>
              </td>
             
           
           
          </tr>
  
          <tr>
            <td>
                <div class="form-group">
                  <label>Recordable Accident :</label>
                  <input type="number" class="form-control" [(ngModel)]="Record.recordableAccident" readonly formControlName="recordableAccident" />
                  <div *ngIf="recordableAccident?.invalid && (recordableAccident?.dirty || recordableAccident?.touched)">
                    <small class="text-danger" *ngIf="recordableAccident?.errors?.['required']">
                        Recordable Accident is required
                    </small>
                  </div>
                </div>
              </td>
              <td>
                <div class="form-group">
                  <label>Non-Recordable Accident :</label>
                  <input type="number" class="form-control"  [(ngModel)]="Record.nonRecordableAccident" readonly formControlName="nonRecordableAccident" />
                  <div *ngIf="nonRecordableAccident?.invalid && (nonRecordableAccident?.dirty || nonRecordableAccident?.touched)">
                    <small class="text-danger" *ngIf="nonRecordableAccident?.errors?.['required']">
                    Non-Recordable Accident is required
                    </small>
                  </div>
                </div>
              </td>
              <td>
                <div class="form-group">
                  <label>Safety Induction :</label>
                  <input type="number" class="form-control" formControlName="safetyInduction" />
                  <div *ngIf="safetyInduction?.invalid && (safetyInduction?.dirty || safetyInduction?.touched)">
                    <small class="text-danger" *ngIf="safetyInduction?.errors?.['required']">
                    Safety Induction is required
                    </small>
                  </div>
                </div>
              </td>
           
              
          </tr>
  
          <tr>

            <td>
              <div class="from-group">
                <label for="crewQuizDTO" class="form-label">Quiz ,Crew :</label>
                <select name="crewQuizDTO"  multiple formControlName="crewQuizDTO" id="crewQuizDTO"
                  class="form-select">
                  <option value="" disabled selected>Choose Crew</option>
                  <option *ngFor="let item of CrewList" value="{{item.id}}">{{item.crewName}}</option>
                </select>
              </div>
            </td>
            <td>
              <div class="form-group">
                <label>Quiz Number Of Crew :</label>
                <input type="number" [(ngModel)]="NumberOfQuiz" readonly class="form-control" formControlName="quizCrewNumber" />
                <div *ngIf="quizCrewNumber?.invalid && (quizCrewNumber?.dirty || quizCrewNumber?.touched)">
                  <small class="text-danger" *ngIf="quizCrewNumber?.errors?.['required']">
                    Quiz Number Of Crew is required
                  </small>
                </div>
              </div>
            </td>
            <td>
              <div class="from-group">
                <label for="crewSaftyAlertDTO" class="form-label">Safety Alert ,Crew :</label>
                <select multiple name="crewSaftyAlertDTO"  formControlName="crewSaftyAlertDTO" id="crewSaftyAlertDTO" class="form-select">
                  <option value=""  disabled selected>Choose Crew</option>
                  <option *ngFor="let item of CrewList" value="{{item.id}}">{{item.crewName}}</option>
                </select>
              </div>
            </td>
            <td>
              <div class="form-group">
                <label>Safety Number Of Crew :</label>
                <input type="number" [(ngModel)]="NumberOfSafty" class="form-control" readonly formControlName="safetyAlertCrewNumber" />
                <div *ngIf="safetyAlertCrewNumber?.invalid && (safetyAlertCrewNumber?.dirty || safetyAlertCrewNumber?.touched)">
                  <small class="text-danger" *ngIf="safetyAlertCrewNumber?.errors?.['required']">
                    Safety Number Of Crew is required
                  </small>
                </div>
              </div>
            </td>

           
          </tr>
          <br>
          <tr>
            
            <td>
             
              <input type="checkbox" id="myCheck" (change)="toggleTextVisibility1($event)">
              <label for="monthlyInspection">
                Monthly Inspection :
              </label>
              <div class="form-group">

                <input [style.display]="textVisible1 ? 'block' : 'none'" id="monthlyInspection" type="number" placeholder="Monthly Inspection" class="form-control" formControlName="monthlyInspection" />
            
              </div>
             
               
                
              <td>
            
                  <input type="checkbox" id="myCheck2" (change)="toggleTextVisibility2($event)">
                  <label>Weekly Inspection :</label>
                  <div class="form-group">
                  <input type="number" [style.display]="textVisible2 ? 'block' : 'none'"  class="form-control" formControlName="weeklyInspection" />
               
                </div>
              </td>
             
             
       
          

           
          
          </tr>
  
          <tr>
            <td>
                <div class="form-group">
                  <label>Days since last LTI :</label>
                  <input type="number"  [(ngModel)]="DaysSinceLastLTI" readonly  class="form-control" formControlName="daysSinceLastLTI" />
                 
                </div>
              </td>
              <td>
                <!-- <div class="form-group">
                  <label>Days since last LTI fixed no :</label>
                  <input type="number" readonly [(ngModel)]="DaysLTIId" value="{{DaysWithNoLTI}}" class="form-control" formControlName="daysSinceNoLTIId" />
                  <div *ngIf="daysSinceNoLTIId?.invalid && (daysSinceNoLTIId?.dirty || daysSinceNoLTIId?.touched)">
                    <small class="text-danger" *ngIf="daysSinceNoLTIId?.errors?.['required']">
                        Days since last LTI fixed no is required
                    </small>
                  </div>
                </div> -->

                <div class="from-group">
                  <label for="daysSinceNoLTIId" class="form-label">Days since last LTI fixed :</label>
                  <input class="form-control" [value]="DaysWithNoLTI" disabled />
                  <input name="daysSinceNoLTIId" formControlName="daysSinceNoLTIId" id="daysSinceNoLTIId" class="form-control"
                    [(ngModel)]="DaysLTIId" hidden />
                </div>
              </td>
             
          </tr>
  
         
          
        </table>
  
  
        <input type="submit" [disabled]="QHSEDailyForm.invalid" class="btn btn-success me-3" value="Submit" />
        <input type="submit" class="btn btn-primary me-3" value="Export Data" (click)="Download()" />
        <input routerLink="/PrintQHSEDaily" type="submit" class="btn btn-primary" value="Show Data">
  
      </form>
    </div>
  </div>
  
